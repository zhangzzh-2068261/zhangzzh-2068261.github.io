/*
 * jquery.infieldlabel
 * A simple jQuery plugin for adding labels that sit over a form field and fade away when the fields are populated.
 * 
 * Copyright (c) 2009 - 2013 Doug Neiner <doug@dougneiner.com> (http://code.dougneiner.com)
 * Source: https://github.com/dcneiner/In-Field-Labels-jQuery-Plugin
 * Dual licensed MIT or GPL
 *   MIT (http://www.opensource.org/licenses/mit-license)
 *   GPL (http://www.opensource.org/licenses/gpl-license)
 *
 * @version 0.1.3
 */
(function(e){e.InFieldLabels=function(n,i,t){var o=this;o.$label=e(n),o.label=n,o.$field=e(i),o.field=i,o.$label.data("InFieldLabels",o),o.showing=!0,o.init=function(){var n;o.options=e.extend({},e.InFieldLabels.defaultOptions,t),setTimeout(function(){""!==o.$field.val()?(o.$label.hide(),o.showing=!1):(o.$label.show(),o.showing=!0)},200),o.$field.focus(function(){o.fadeOnFocus()}).blur(function(){o.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(e){o.hideOnChange(e)}).bind("paste",function(){o.setOpacity(0)}).change(function(){o.checkForEmpty()}).bind("onPropertyChange",function(){o.checkForEmpty()}).bind("keyup.infieldlabel",function(){o.checkForEmpty()}),o.options.pollDuration>0&&(n=setInterval(function(){""!==o.$field.val()&&(o.$label.hide(),o.showing=!1,clearInterval(n))},o.options.pollDuration))},o.fadeOnFocus=function(){o.showing&&o.setOpacity(o.options.fadeOpacity)},o.setOpacity=function(e){o.$label.stop().animate({opacity:e},o.options.fadeDuration),o.showing=e>0},o.checkForEmpty=function(e){""===o.$field.val()?(o.prepForShow(),o.setOpacity(e?1:o.options.fadeOpacity)):o.setOpacity(0)},o.prepForShow=function(){o.showing||(o.$label.css({opacity:0}).show(),o.$field.bind("keydown.infieldlabel",function(e){o.hideOnChange(e)}))},o.hideOnChange=function(e){16!==e.keyCode&&9!==e.keyCode&&(o.showing&&(o.$label.hide(),o.showing=!1),o.$field.unbind("keydown.infieldlabel"))},o.init()},e.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"]},e.fn.inFieldLabels=function(n){var i=n&&n.enabledInputTypes||e.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var t,o,a=e(this).attr("for");a&&(t=document.getElementById(a),t&&(o=e.inArray(t.type,i),(-1!==o||"TEXTAREA"===t.nodeName)&&new e.InFieldLabels(this,t,n)))})}})(jQuery);